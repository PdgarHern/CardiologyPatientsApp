{"type":"operationStart","subtype":"render","name":"DoctorFollowups","previousOperationId":null,"profileId":"RxnU3aPBDmeUzElR","timestamp":1645469328019,"id":"zj5xw63ma6vvfay","operationId":"jrbnrs69tdtkbfa"}
{"type":"log","timestamp":1645469328019,"level":"info","message":"Starting rendering request 161 (user: null)","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"eim14ohosmxn5g5","operationId":"22q2f1z35lueoac","previousOperationId":"jrbnrs69tdtkbfa"}
{"type":"log","timestamp":1645469328019,"level":"info","message":"Rendering template { name: DoctorFollowups, recipe: html, engine: handlebars, preview: false }","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"830dubmp4j3vn58","operationId":"rbk3vrif6ggi7mv","previousOperationId":"jrbnrs69tdtkbfa"}
{"type":"log","timestamp":1645469328020,"level":"debug","message":"Inline data specified.","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"g891h59hunn0d3y","operationId":"6w7r8z1wzkfccab","previousOperationId":"jrbnrs69tdtkbfa"}
{"type":"log","timestamp":1645469328023,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"zicalmreiste1at","operationId":"kkavofb3c9sgfir","previousOperationId":"jrbnrs69tdtkbfa"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1645469328023,"id":"twkwtjin2bn2ozd","previousEventId":"zj5xw63ma6vvfay","operationId":"xud4n9272uotjcd","previousOperationId":"jrbnrs69tdtkbfa"}
{"type":"log","timestamp":1645469328023,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"pxdrkeompntsxcw","operationId":"cuzazwb78edg5a7","previousOperationId":"xud4n9272uotjcd"}
{"type":"log","timestamp":1645469328043,"level":"warn","message":"Error when processing render request 161 Error when evaluating engine handlebars for template /MyReports/DoctorFollowupsFolder/DoctorFollowups\nCannot read properties of undefined (reading 'length')\n\n(sandbox.js line 2:18)\n\n  665 |\n  666 | function arrayCount(array) {\n> 667 |     return array.length;\n      |                  ^\n  668 | }\n\n TypeError: Cannot read properties of undefined (reading 'length')\n    at Proxy.arrayCount (sandbox.js:667:18)\n    at BaseHandler.apply (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\vm2\\lib\\bridge.js:477:11)\n    at Object.<anonymous> (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:220:27)\n    at Object.wrapper (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:30), <anonymous>:14:110)\n    at prog (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\n    at Object.wrapper (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:30), <anonymous>:29:49)","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"x5xa4mw2xguj8dm","operationId":"ip3fzzs6n2xnj63","previousOperationId":"xud4n9272uotjcd"}
{"type":"log","timestamp":1645469328043,"level":"warn","message":"Rendering request 161 finished with error in 24 ms","meta":{"rootId":"duk2lyh837rjsud","id":"duk2lyh837rjsud"},"id":"q08g0ainbz3de4u","operationId":"vosnxc1f15konia","previousOperationId":"xud4n9272uotjcd"}
{"type":"error","timestamp":1645469328053,"statusCode":400,"weak":true,"lineNumber":2,"entity":{"shortid":"WA06Wp1BP6","name":"DoctorFollowups","content":"<link href=\"https://fonts.googleapis.com/css2?family=Abel&display=swap\" rel=\"stylesheet\">\r\n<link rel=\"stylesheet\" href=\"https://cdn.rawgit.com/olton/Metro-UI-CSS/master/build/css/metro.min.css\">\r\n<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js'></script>\r\n<script src=\"path/to/chartjs/dist/chart.js\"></script>\r\n\r\n<style>\r\n    {{asset \"./styles.css\"}}\r\n</style>\r\n\r\n<div class=\"WrapperHeader\">\r\n    <div class=\"ContentHeader\">\r\n        <img id=\"logo\" src=\"{{asset \"appLogo.png\" \"dataURI\"}}\" alt=\"logo\" />\r\n    </div>\r\n</div>\r\n\r\n<br/>\r\n\r\n<div class=\"WrapperContent\">\r\n    <div class=\"ContentContent\">\r\n        <h1>Number of patients</h1>\r\n        <table id=\"table\" class=\"table\" style=\"display: none;\">\r\n            <thead>\r\n                <th>Name</th>\r\n                <th>Followups</th>\r\n            </thead>\r\n            <tbody>\r\n                {{#each data}}\r\n                <tr>\r\n                    <td>{{name}}</td>\r\n                    <td>{{arrayCount followups}}</td>\r\n                </tr>\r\n                {{/each}}\r\n            </tbody>\r\n        </table>\r\n\r\n        <canvas id=\"myChart\" width=\"1200\" height=\"800\"></canvas>\r\n        <script>\r\n            const ctx = document.getElementById('myChart').getContext('2d');\r\n            let names = [];\r\n            let followups = [];\r\n\r\n            for (let i = 1; i < document.getElementById(\"table\").rows.length; i++) {\r\n                names.push(document.getElementById(\"table\").rows[i].cells[0].innerHTML);\r\n                followups.push(document.getElementById(\"table\").rows[i].cells[1].innerHTML);\r\n            }\r\n\r\n            const myChart = new Chart(ctx, {\r\n                type: 'bar',\r\n                data: {\r\n                    labels: names,\r\n                    datasets: [{\r\n                        label: 'Number of follow-ups created',\r\n                        data: followups,\r\n                        backgroundColor: 'rgba(66, 133, 244, 0.8)',\r\n                        borderColor: 'rgba(28, 28, 28, 1)',\r\n                        borderWidth: 1\r\n                    }]\r\n                },\r\n                options: {\r\n                    scales: {\r\n                        yAxes: [{\r\n                        display: true,\r\n                        ticks: {\r\n                            beginAtZero: true,\r\n                            autoSkip: false\r\n                        }\r\n                        }],\r\n                        xAxes: [{\r\n                        ticks: {\r\n                            autoSkip: false\r\n                        }\r\n                        }]\r\n                    },\r\n                    animation: {\r\n                        duration: 0\r\n                    }\r\n                }\r\n            })\r\n        </script>\r\n    </div>\r\n</div>\r\n"},"property":"helpers","logged":true,"previousOperationId":"xud4n9272uotjcd","id":"g78lvpnc79er12f","stack":"TypeError: Cannot read properties of undefined (reading 'length')\n    at Proxy.arrayCount (sandbox.js:667:18)\n    at BaseHandler.apply (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\vm2\\lib\\bridge.js:477:11)\n    at Object.<anonymous> (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:220:27)\n    at Object.wrapper (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at 1 (eval at compile (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:30), <anonymous>:14:110)\n    at prog (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\runtime.js:268:12)\n    at execIteration (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:51:19)\n    at Object.<anonymous> (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\helpers\\each.js:61:13)\n    at Object.wrapper (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\handlebars\\dist\\cjs\\handlebars\\internal\\wrapHelper.js:15:19)\n    at Object.main (eval at compile (C:\\Users\\PdghProyectos\\Desktop\\PROYECTO\\Usabi\\jsreport\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:30), <anonymous>:29:49)","message":"Error when evaluating engine handlebars for template /MyReports/DoctorFollowupsFolder/DoctorFollowups\nCannot read properties of undefined (reading 'length')\n\n(sandbox.js line 2:18)\n\n  665 |\n  666 | function arrayCount(array) {\n> 667 |     return array.length;\n      |                  ^\n  668 | }\n\n"}
